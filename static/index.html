<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Quantum True Random Generator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 40px;
            line-height: 1.6;
        }
        select, input {
            padding: 5px;
            margin: 5px;
        }
        button {
            padding: 8px 15px;
            margin-top: 15px;
            cursor: pointer;
        }
        .field-group {
            margin-bottom: 15px;
        }
        label {
            margin-right: 10px;
        }
    </style>
</head>
<body>
<h2 id="title">–ö–≤–∞–Ω—Ç–æ–≤—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª</h2>

<div class="field-group">
    <label for="lang">üåê –Ø–∑—ã–∫:</label>
    <select id="lang" onchange="setLanguage(this.value)">
        <option value="ru">üá∑üá∫ –†—É—Å—Å–∫–∏–π</option>
        <option value="en">en English</option>
    </select>
</div>

<div class="field-group">
    <label for="mode" id="mode_label">–†–µ–∂–∏–º:</label>
    <select id="mode">
        <option value="limited">–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω</option>
        <option value="infinite">–ò—Å—Ç–∏–Ω–Ω—ã–π –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ä–µ–∂–∏–º</option>
    </select>
</div>

<div id="limited_fields" class="field-group">
    <label id="min_label">–ú–∏–Ω:</label>
    <input id="min" type="number" value="0">
    <label id="max_label">–ú–∞–∫—Å:</label>
    <input id="max" type="number" value="10000">
    <label id="count_label">–ö–æ–ª-–≤–æ:</label>
    <input id="count" type="number" value="10">
</div>

<div id="infinite_fields" class="field-group" style="display:none;">
    <label id="bits_label">–ß–∏—Å–ª–æ –±–∏—Ç–æ–≤:</label>
    <input id="bitLength" type="range" min="8" max="4096" step="8" value="128" oninput="bitValue.textContent=value">
    <span id="bitValue">128</span> <span id="bit_text">–±–∏—Ç</span>
</div>

<div class="field-group">
    <label id="format_label">–§–æ—Ä–º–∞—Ç —á–∏—Å–ª–∞:</label>
    <select id="format">
        <option value="dec">DEC</option>
        <option value="hex">HEX</option>
        <option value="bin">BIN</option>
        <option value="base64">Base64</option>
    </select>
</div>

<button onclick="generate()" id="generate_btn">–ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å</button>

<pre id="output"></pre>

<script>
const translations = {
    "ru": {
        "title": "–ö–≤–∞–Ω—Ç–æ–≤—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª",
        "mode_label": "–†–µ–∂–∏–º:",
        "min_label": "–ú–∏–Ω:",
        "max_label": "–ú–∞–∫—Å:",
        "count_label": "–ö–æ–ª-–≤–æ:",
        "bits_label": "–ß–∏—Å–ª–æ –±–∏—Ç–æ–≤:",
        "bit_text": "–±–∏—Ç",
        "format_label": "–§–æ—Ä–º–∞—Ç —á–∏—Å–ª–∞:",
        "generate_btn": "–ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å"
    },
    "en": {
        "title": "Quantum Random Number Generator",
        "mode_label": "Mode:",
        "min_label": "Min:",
        "max_label": "Max:",
        "count_label": "Count:",
        "bits_label": "Bit length:",
        "bit_text": "bits",
        "format_label": "Number format:",
        "generate_btn": "Generate"
    }
};

function setLanguage(lang) {
    for (const id in translations[lang]) {
        document.getElementById(id).innerText = translations[lang][id];
    }
}

document.getElementById("mode").onchange = function() {
    document.getElementById("limited_fields").style.display = (this.value === "limited") ? "block" : "none";
    document.getElementById("infinite_fields").style.display = (this.value === "limited") ? "none" : "block";
};

async function generate() {
    const mode = document.getElementById("mode").value;
    const format = document.getElementById("format").value;
    const data = {mode, format};

    if (mode === "limited") {
        data.min = document.getElementById("min").value;
        data.max = document.getElementById("max").value;
        data.count = document.getElementById("count").value;
    } else {
        data.bits = document.getElementById("bitLength").value;
    }

    const res = await fetch('/generate', {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify(data)
    });

    document.getElementById('output').textContent = JSON.stringify(await res.json(), null, 2);
}

setLanguage('ru');
</script>
</body>
</html>